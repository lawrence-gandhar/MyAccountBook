{% extends 'app/base/base.html' %}
{% load static %}

{% load common_filters %}
{% load pagination %}

{% block content %}

<div class="row custom-row" style="padding:10px; background: linear-gradient(60deg,#f5700c,#ff9800);">
    <ul style="list-style:none; margin:0px; color:#FFFFFF; padding:0px;">        
        <li class="nav-item" style="float:left;padding:0px 10px;">
            <a href="{% url 'add-contacts' %}" style="color:#FFFFFF; text-decoration:none; font-size: 20px;" title="Add Contact">
                <i class="material-icons">add_to_queue</i>
            </a>
        </li>
        <li class="nav-item" style="float:left;padding:0px 10px;">
            <a href="{% url 'contacts' %}" style="color:#FFFFFF; text-decoration:none; font-size: 20px;" title="View Contacts As List">
                <i class="material-icons">list</i>
            </a>
        </li>
        <li class="nav-item" style="float:left;padding:0px 10px;">
            <a href="{% url 'contacts-upload' %}" style="color:#FFFFFF; text-decoration:none; font-size: 20px;" title="Upload Contacts">
                <i class="material-icons">cloud_upload</i>
            </a>            
        </li>
    </ul>
</div>

<div class="row">
    <div class="col-lg-12">
        <div class="card">
            <div class="card-header card-header-primary">
                <h4 class="card-title ">View Contacts</h4>
            </div>
            <div class="card-body">
                <div class="table-responsive">
                    <table class="table table-bordered" width="100%" cellspacing="0">
                        <thead class="text-primary">
                            <th>Sl. No.</th>
                            <th>Contact Name</th>
                            <th>User APP-ID</th>
                            <th>Customer Type</th>
                            <th>Is Sub Customer</th>
                            <th>Active</th>
                            <th>Organisation Type</th>
                            <th>Organisation Name</th>
                            <th>Email</th>
                            <th>Phone</th>
                            <th>Website</th>                
                            <th>Action</th>                
                        </thead>
                        <tbody>
                            {% for contact in contacts %}
                                <tr>
                                    <td>{{forloop.counter}}</td>
                                    <td>{{contact.display_name}}</td>
                                    <td>{{contact.app_id}}</td>
                                    <td>{{contact.get_customer_type_display|upper}}</td>
                                    <td>{{contact.get_is_sub_customer_display|upper}}</td>
                                    <td class="text-center">
                                        {% if contact.is_active %}
                                            <i class="material-icons">check</i>
                                        {% else %}
                                            <i class="material-icons">clear</i>
                                        {% endif %}
                                    </td>
                                    <td>{{contact.get_organization_type_display|upper}}</td>
                                    <td>{{contact.organization_name|upper}}</td>
                                    <td>{{contact.email}}</td>
                                    <td>{{contact.phone}}</td>
                                    <td>{{contact.website}}</td>                        
                                    <td class="text-center">
                                        <a href="{% url 'add-contacts' 'step1' contact.id %}" class="btn btn-primary btn-sm" style="padding:5px 5px;">
                                            <i class="material-icons">create</i>
                                        </a>
                                        <a href="{% url 'contact-collections' contact.id %}" class="btn btn-warning btn-sm" style="padding:5px 5px;">
                                            <i class="material-icons">attach_money</i>
                                        </a>
                                        {% if contact.is_active %}
                                            <a href="{% url 'status-change' 'deactivate' contact.id %}" class="btn btn-sm btn-default" title="deactivate" style="padding:5px 5px;">
                                                <i class="material-icons">clear</i>
                                            </a>
                                        {% else %}
                                            <a href="{% url 'status-change' 'activate' contact.id %}" class="btn btn-sm btn-success" title="deactivate" style="padding:5px 5px;">
                                                <i class="material-icons">check</i>
                                            </a>
                                        {% endif %}
                                        <a href="{% url 'contacts-delete' contact.id %}" class="btn btn-danger btn-sm" style="padding:5px 5px;">
                                            <i class="material-icons">delete_forever</i>
                                        </a>
                                    </td>   
                                </tr>
                            {% endfor %}
                        </tbody>
                    </table>    
                </div>
            </div>
        </div>    
    </div>     
</div>


{% endblock %}