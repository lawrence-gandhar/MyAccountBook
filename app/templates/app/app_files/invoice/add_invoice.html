
{% load common_components %}
{% loader_component %}


<style>
select.form-control, input.form-control, textarea.form-control{
    padding:0px 10px;
}
select.form-control option{color : #000000; }

table{
    font-size:14px;
    color:#a7a4a4;
}

#id_service_recipient{
    width:95%;
    display:inline;
}

</style>

<form method="post">
    {% csrf_token %}
    <div class="row">
        <div class="col-lg-12" style="padding:0px">
            <div class="card">
                <div class="card-header card-header-primary">
                    <h4 class="card-title ">Add Invoice</h4>
                </div> 
                <div class="card-body">                    
                    <div class="table" style="padding:10px 0px; color:#FFFFFF; width:100%">                       
                        <table class="table-responsive">
                            <tbody style=" width: 100%; display: inline-table;">
                            <tr>
                                <td style="border:0px; vertical-align: top; ">Invoice No</td> 
                                <td colspan="3" style="border:0px; text-transform: capitalize; padding-left:10px;">
                                    {{ invoice_form.invoice_no }}
                                </td>
                                <td style="border:0px; vertical-align: bottom; width:160px; text-align:center">Invoice Type</td>
                                <td style="border:0px; width:140px;">
                                    {{ invoice_form.invoice_type }}
                                </td>
                            </tr>
                            <tr>                                
                                <td style="border:0px; vertical-align: bottom; width:140px; ">Place Of Supply</td>
                                <td style="border:0px;">
                                    {{ invoice_form.recipient_state_code }}
                                </td>  
                                <td style="border:0px; vertical-align: bottom; width:100px; text-align:center">Due Date</td>
                                <td style="border:0px;">
                                    {{ invoice_form.due_date }}
                                </td>     
                                <td style="border:0px; vertical-align: bottom; width:100px; text-align:center">Terms Invoice</td>
                                <td style="border:0px;">
                                    {{ invoice_form.terms_invoice }}
                                </td>                            
                            </tr>                                                       
                            <tr>
                                <td style="border:0px; vertical-align: bottom; width:160px;">Sales Person</td>
                                <td colspan="7" style="border:0px;">
                                    {{ invoice_form.sales_person }}
                                </td>
                            </tr> 
                            <tr>
                                <td style="border:0px; vertical-align: bottom; width:160px;">Contact/User</td>
                                <td colspan="7" style="border:0px;">
                                    {{ invoice_form.service_recipient }}
                                    <a href="{% url 'add-contacts' %}" title="Add Contact">
                                        <i class="material-icons" style="color:#00ced1">account_circle</i>
                                    </a>
                                </td>
                            </tr>                            
                            <tr>
                                <td style="border:0px; vertical-align: top; padding-top: 10px;">Contact Addresses</td> 
                                <td colspan="7" style="border:0px; text-transform: capitalize; padding-top: 10px; padding-left:10px;" id="contact_addresses"></td>
                            </tr>
                            <tr>
                                <td style="border:0px; vertical-align: top; ">Organization</td> 
                                <td colspan="7" style="border:0px; text-transform: uppercase; padding-left:10px; font-weight:bold;" id="organization_name"></td>
                            </tr>
                            <tr>
                                <td style="border:0px; vertical-align: bottom; width:160px;">Message</td>
                                <td colspan="3" style="border:0px;">
                                    {{ invoice_form.message }}
                                </td>
                                <td style="border:0px; vertical-align: bottom; width:160px; text-align:center;">Attachment</td>
                                <td colspan="3" style="border:0px;">
                                    {{ invoice_form.attachments }}
                                </td>
                            </tr> 
                            <tr>
                                <td colspan="8" style="border:0px; font-weight:bold; vertical-align: bottom; padding:10px 10px; background-color:#000000;">
                                    PRODUCTS/ITEMS
                                    <i class="material-icons pull-right" style="cursor:pointer; color:#00ced1;" title="Add Product To Invoice" id="add_shopping_cart">add_shopping_cart</i>
                                    <i class="material-icons pull-right" style="cursor:pointer; margin-right:15px; color:#6495ed;" title="Add Product" id="add_shopping_cart"  data-toggle="modal" data-target="#addProductModal">add_to_queue</i>                                                                        
                                </td>
                            </tr>                            
                            <tr>
                                <td colspan="8" style="border:0px; vertical-align: bottom">
                                    <table class="table-responsive" id="product_table">
                                        <tbody style=" width: 100%; display: inline-table;">
                                            <tr style="background:linear-gradient(60deg, #7b1fa2, #913f9e); color:#FFF; font-weight:bold; font-size:90%">
                                                <td style="border:0px; vertical-align: inherit; text-align:center;">Product</td>
                                                <td style="border:0px; vertical-align: inherit; text-align:center;">Type</td>
                                                <td style="border:0px; vertical-align: inherit; text-align:center;">Quantity</td>
                                                <td style="border:0px; vertical-align: inherit; text-align:center;">Price</td>
                                                <td style="border:0px; vertical-align: inherit; text-align:center;">Discount</td>
                                                <td style="border:0px; vertical-align: inherit; text-align:center;">Tax</td>
                                                <td style="border:0px; vertical-align: inherit; text-align:center;">Sub Total <br/>(Excl. Tax)</td>
                                                <td></td>
                                            </tr>
                                            {{ formset.management_form }}
                                            {% for form in formset %}                                                
                                                <tr id="tr-set-0">                                                    
                                                    <td style="border:0px;">{{ form.product }}</td>                                                    
                                                    <td style="border:0px;">{{ form.inventory }}</td>                                                    
                                                    <td style="border:0px; width:100px">{{ form.quantity }}</td>                                                    
                                                    <td style="border:0px; width:100px">{{ form.quantity }}</td>                                                    
                                                    <td style="border:0px; width:100px">{{ form.quantity }}</td>                                                    
                                                    <td style="border:0px; width:100px">{{ form.quantity }}</td>                                                    
                                                    <td style="border:0px; width:100px">{{ form.quantity }}</td>
                                                    <td style="border:0px; width:20px; color:#ff5e00;" class="text-center">
                                                        <i class="material-icons" title="Remove" style="cursor:pointer; position:relative; top:10px;" onclick="delete_product_from_invoice_form($(this))">delete_forever</i>
                                                    </td>
                                                </tr>
                                            {% endfor %}
                                        </tbody>
                                    </table>
                                </td>
                            </tr>  
                            <tr>
                                <td colspan="8" style="border:0px; font-weight:bold; vertical-align: bottom; padding:10px 10px; background-color:#000000;">
                                    Details
                                </td>
                            </tr>    
                            <tr>
                                <td colspan="5" style="border:0px; text-align:right; font-weight:bold;">
                                    Sub Total (Excl. Tax)
                                </td>
                                <td style="border:0px; border-left:1px solid #dc7fec; text-align:right">0.00</td>
                            </tr>           
                            <tr>
                                <td colspan="5" style="border:0px; text-align:right; font-weight:bold;">
                                    GST
                                </td>
                                <td style="border:0px; border-left:1px solid #dc7fec; text-align:right">
                                    0.00
                                </td>
                            </tr> 
                            <tr>
                                <td colspan="5" style="border:0px; text-align:right; font-weight:bold;">
                                    Shipping
                                </td>
                                <td style="border:0px; border-left:1px solid #dc7fec; text-align:right">
                                    0.00
                                </td>
                            </tr>    
                            <tr>
                                <td colspan="5" style="border:0px; text-align:right; font-weight:bold;">
                                    Adjustment
                                </td>
                                <td style="border:0px; border-left:1px solid #dc7fec; text-align:right">
                                    0.00
                                </td>
                            </tr>    
                            <tr>
                                <td colspan="5" style="border:0px; text-align:right; border-top:1px solid #dc7fec; font-weight:bold;">
                                    Total
                                </td>
                                <td style="border:0px; border-left:1px solid #dc7fec; border-top:1px solid #dc7fec; text-align:right">
                                    0.00
                                </td>
                            </tr>                                   
                        </table>                        
                    </div>
                </div>
                <div class="card-footer text-center" style="justify-content: center;">
                    <button class="btn btn-warning">Cancel</button>
                    <button class="btn btn-success">Save</button>
                </div>
            </div>
        </div>
    </div>
</form>

<!-- -->

<div class="modal fade" id="addProductModal" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content" style="background-color:currentcolor">
            <form method="post" style="margin:0px" enctype="multipart/form-data">
                <div class="modal-header bg-warning">
                    <h5 class="modal-title" style="color:#000000; font-weight:bold;">Edit Account Details</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    {% csrf_token %}
                    <table class="table-responsive">
                        <tbody style=" width: 100%; display: inline-table;">
                            <tr>
                                <td style="border:0px; width:150px; vertical-align:bottom">
                                    Product Type
                                </td>
                                <td style="border:0px;">
                                    {{add_product_form.product_type}}
                                </td>                        
                            </tr>
                            <tr>
                                <td style="border:0px; width:150px; vertical-align:bottom">
                                    SKU/Item/Product ID</label>
                                </td>
                                <td style="border:0px;">
                                    {{add_product_form.sku}}
                                </td>                        
                            </tr>
                            <tr>
                                <td style="border:0px; width:150px; vertical-align:bottom">
                                    Product Name
                                </td>
                                <td style="border:0px;">
                                    {{add_product_form.product_name}}
                                </td>                        
                            </tr>
                            <tr>
                                <td style="border:0px; width:150px; vertical-align:bottom">
                                    Product Description
                                </td>
                                <td style="border:0px;">
                                    {{add_product_form.product_description}}
                                </td>
                            </tr>
                            <tr>
                                <td style="border:0px; width:150px; vertical-align:bottom">
                                    Product Images
                                </td>
                                <td style="border:0px;">
                                    {{add_product_images_form.product_image}}
                                </td>                        
                            </tr>
                            <tr>
                                <td style="border:0px; width:150px; vertical-align:bottom">
                                    Product Dimensions
                                </td>
                                <td style="border:0px;">
                                    {{add_product_form.product_dimension}}
                                </td>                        
                            </tr>
                            <tr>
                                <td style="border:0px; width:150px; vertical-align:bottom">
                                    Units
                                </td>
                                <td style="border:0px;">
                                    {{add_product_form.unit}}
                                </td>                        
                            </tr>
                            <tr>
                                <td style="border:0px; width:150px; vertical-align:bottom">
                                    Tax
                                </td>
                                <td style="border:0px;">
                                    {{add_product_form.tax}}
                                </td>                        
                            </tr>
                            <tr>
                                <td style="border:0px; width:150px; vertical-align:bottom">
                                    GST
                                </td>
                                <td style="border:0px;">
                                    {{add_product_form.gst}}
                                </td>                        
                            </tr>
                            <tr>
                                <td style="border:0px; width:150px; vertical-align:bottom">
                                    HSN/SAC Code
                                </td>
                                <td style="border:0px;">
                                    {{add_product_form.hsn_code}}
                                </td>                        
                            </tr>
                            <tr>
                                <td style="border:0px; width:150px; vertical-align:bottom">
                                    Abatement
                                </td>
                                <td style="border:0px;">
                                    {{add_product_form.abatement}}
                                </td>                        
                            </tr>
                            <tr>
                                <td colspan="2" style="border:0px; vertical-align:bottom; background-color:#000000; color:#FFFFFF; padding:5px;">
                                    SALES INFORMATION
                                    <span style="margin-left:40px;">
                                        {{add_product_form.is_sales}}
                                    </span>
                                </td>                        
                            </tr>
                            <tr>
                                <td style="border:0px; width:150px; vertical-align:bottom">
                                    Marked Price
                                </td>
                                <td style="border:0px;">
                                    {{add_product_form.marked_price}}
                                </td>                        
                            </tr>
                            <tr>
                                <td style="border:0px; width:150px; vertical-align:bottom">
                                    Selling Price
                                </td>
                                <td style="border:0px;">
                                    {{add_product_form.selling_price}}
                                </td>
                            </tr>
                            <tr>
                                <td style="border:0px; width:150px; vertical-align:bottom">
                                    Discount
                                </td>
                                <td style="border:0px;">    
                                    {{add_product_form.discount}}
                                </td>
                            </tr>
                            <tr>
                                <td style="border:0px; width:150px; vertical-align:bottom">
                                    Accounts
                                </td>
                                <td style="border:0px;">
                                    {{add_product_form.sales_account}}
                                </td>                        
                            </tr>
                            <tr>
                                <td colspan="2" style="border:0px; vertical-align:bottom; background-color:#000000; color:#FFFFFF; padding:5px;">
                                    PURCHASE INFORMATION
                                    <span style="margin-left:40px;">
                                        {{add_product_form.is_purchase}}
                                    </span>
                                </td>                        
                            </tr>
                            <tr>
                                <td style="border:0px; width:150px; vertical-align:bottom">
                                    Cost Price
                                </td>
                                <td style="border:0px;">
                                    {{add_product_form.cost_price}}
                                </td>                        
                            </tr>
                            <tr>
                                <td style="border:0px; width:150px; vertical-align:bottom">
                                    Accounts
                                </td>
                                <td style="border:0px;">
                                    {{add_product_form.purchase_account}}
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-sm btn-warning close" type="button" data-dismiss="modal" aria-label="Close">Cancel</button>
                    <button class="btn btn-sm btn-success" type="submit">Save</button>
                </div>
            </form>
        </div>
    </div>
</div>    


<!-- -->

